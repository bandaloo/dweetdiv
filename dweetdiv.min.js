"use strict";function addDweet(e,t,n){const i=void 0===(null==n?void 0:n.fps)?60:n.fps,o=void 0===(null==n?void 0:n.intermediateDraws)?Math.max(1,Math.ceil(i/60)):null==n?void 0:n.intermediateDraws,r=o!==1/0;if("string"!=typeof t)throw new TypeError("type of code has to be a string");let a=0;const l=i===1/0;if(!l){if("number"!=typeof i||isNaN(i))throw new TypeError("fps has to be a number that is also not NaN");if(i<0)throw new RangeError("fps has to be greater or equal to 0")}const d=document.getElementById(e);if(null===d)throw new Error("couldn't find div to put the canvas (did you get the id wrong?)");let s=!1;document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&(s=!0)});const c=()=>{const e=document.createElement("div");return e.style.width="100%",e.style.backgroundColor="black",e.style.color="white",e.style.padding="4px",e.style.boxSizing="border-box",e.style.fontFamily="monospace",e.style.wordBreak="break-all",e};if(null==n?void 0:n.credits){var h,u,f;const e=c(),t=null===(h=n.credits)||void 0===h?void 0:h.title,i=null===(u=n.credits)||void 0===u?void 0:u.author,o=null===(f=n.credits)||void 0===f?void 0:f.link,r=document.createElement("span");if(r.innerText="/* "+(t?" "+t:"")+(i?" by "+i:""),e.appendChild(r),o){r.innerText+=" ";const t=document.createElement("a");t.innerText=o,t.href=o,t.style.color="#aaaaaa",e.appendChild(t)}const a=document.createElement("span");a.innerText=" */",e.appendChild(a),d.appendChild(e)}const p=Math.cos,m=Math.sin,w=Math.tan,v=(e,t,n,i=1)=>`rgba(${0|e},${0|t},${0|n},${i})`,y=document.createElement("canvas");y.width=1920,y.height=1080,y.style.width="100%",d.appendChild(y);const g=y.getContext("2d");let b=new Function("t","c","x","R","C","S","T",t);if(null==n?void 0:n.showCode){const e=c();e.innerText=t,d.appendChild(e)}let x=0,C=0,E=1;const T=e=>{s&&(s=!1,x+=e-C,C=e,requestAnimationFrame(T));let t=(e-x)/1e3;if((()=>{const e=y.getBoundingClientRect();return e.left<window.innerWidth&&e.right>0&&e.top<window.innerHeight&&e.bottom>0})()){if(!l)if(0===i)E=1;else if(t>=a/i){const e=Math.floor(t*i-a);E=Math.min(e,o),x+=(e-E)/i*1e3,a+=E}if(r)for(let e=0;e<E;e++)b((a+(e-E))/i,y,g,v,p,m,w);else E&&b(t,y,g,v,p,m,w);if(0===i)return}else x+=e-C;C=e,requestAnimationFrame(T)};T(0)}
