"use strict";function addDweet(e,t,n){const o=void 0===(null==n?void 0:n.fps)?60:n.fps;if("string"!=typeof t)throw new TypeError("type of code has to be a string");let i=0;const r=o===1/0;if(!r){if("number"!=typeof o||isNaN(o))throw new TypeError("fps has to be a number that is also not NaN");if(o<0)throw new RangeError("fps has to be greater or equal to 0")}const a=document.getElementById(e);if(null===a)throw new Error("couldn't find div to put the canvas (did you get the id wrong?)");const d=document.createElement("canvas"),l=d.getContext("2d");d.width=1920,d.height=1080,d.style.width="100%",d.style.backgroundColor="white";const s=()=>{const e=document.createElement("div");return e.style.width="100%",e.style.backgroundColor="black",e.style.color="white",e.style.padding="4px",e.style.boxSizing="border-box",e.style.fontFamily="monospace",e.style.wordBreak="break-all",e};if(null==n?void 0:n.credits){var c,h,u;const e=s(),t=null===(c=n.credits)||void 0===c?void 0:c.title,o=null===(h=n.credits)||void 0===h?void 0:h.author,i=null===(u=n.credits)||void 0===u?void 0:u.link,r=document.createElement("span");if(r.innerText="/* "+(t?" "+t:"")+(o?" by "+o:""),e.appendChild(r),i){r.innerText+=" ";const t=document.createElement("a");t.innerText=i,t.href=i,t.style.color="#aaaaaa",e.appendChild(t)}const d=document.createElement("span");d.innerText=" */",e.appendChild(d),a.appendChild(e)}if(a.appendChild(d),null==n?void 0:n.showCode){const e=s();e.innerText=t,a.appendChild(e)}const p=Math.cos,f=Math.sin,w=Math.tan,g=(e,t,n,o=1)=>`rgba(${0|e},${0|t},${0|n},${o})`,m=document.createElement("canvas");m.width=1920,m.height=1080;const y=m.getContext("2d");let v=new Function("t","c","x","R","C","S","T",t);let b=0,C=0,x=1;const E=e=>{let t=(e-b)/1e3;if((()=>{const e=d.getBoundingClientRect();return e.left<window.innerWidth&&e.right>0&&e.top<window.innerHeight&&e.bottom>0})()){if(!r)if(0===o)x=1;else if(t>=i/o){const e=Math.floor(t*o-i);x=Math.min(e,4),b+=(e-x)/o*1e3,i+=x,t=i/o}for(let e=0;e<x;e++)v(t,m,y,g,p,f,w);if(x&&(l.clearRect(0,0,d.width,d.height),l.save(),l.scale(d.width/m.width,d.height/m.height),l.drawImage(m,0,0),l.restore(),0===o))return}else b+=e-C;C=e,requestAnimationFrame(E)};E(0)}
